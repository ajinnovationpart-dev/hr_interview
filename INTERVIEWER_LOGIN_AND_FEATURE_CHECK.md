# 기능 점검 요약 & 면접관 로그인 안내

## 1. 전체 기능 점검 요약

전체 점검 기준으로 **흐름은 설계대로 잘 맞습니다.** 아래만 확인하면 됩니다.

- **메일 발송**: SMTP 설정(.env의 `SMTP_USER`, `SMTP_PASSWORD`)이 있어야 면접 등록 시·리마인더 시 메일이 나갑니다. 미설정 시 0명 발송되며, 설정 페이지와 `GET /api/test-email/status`로 확인 가능.
- **이력서 업로드**: 면접 생성 후 지원자별 이력서 파일을 업로드하는 구조이며, `candidateId`가 올바르게 넘어가야 합니다. 400 발생 시 서버 로그와 `FULL_FEATURE_CHECK.md` 참고.
- **데이터 저장소**: OneDrive Local / Google Sheets / SharePoint 중 사용 중인 한 가지에 맞게 env 설정이 되어 있어야 합니다.
- **면접관 비밀번호**: 면접관이 **포털 로그인**(이메일+비밀번호)을 쓰려면, 관리자가 면접관 관리에서 해당 면접관에 **비밀번호를 설정**해 두어야 합니다. (비밀번호 설정 기능이 있으면 사용, 없으면 관리자용 기능으로 추가 필요.)
- **백엔드 auth**: 면접관 로그인 API(`POST /auth/interviewer/login`)에서 `dataService`, `verifyPassword`가 사용되므로 해당 import가 있어야 합니다.

---

## 2. 면접관은 어떻게 로그인하나요?

면접관이 쓰는 기능은 **두 가지**로 나뉩니다.

### 2.1 일정 확인(가능 시간 선택) — **로그인 불필요**

- **방법**: 관리자가 면접을 등록하면 면접관 이메일로 **「일정 선택하기」** 링크가 발송됩니다.
- **동작**: 그 메일의 링크를 클릭하면 ` /confirm/{토큰}` 페이지로 이동하고, **토큰만으로** 가능한 날/시간을 선택해 제출할 수 있습니다.
- **정리**: **별도 로그인 없이**, 메일 링크만 있으면 됩니다.

### 2.2 면접관 포털(일정 보기, 평가 입력) — **이메일 + 비밀번호 로그인**

- **접속 주소** (프론트 기준):
  - **면접관 로그인 화면**: `/interviewer/login`  
    (예: `https://사이트주소/interviewer/login` 또는 `http://localhost:5173/interviewer/login`)
  - 로그인 성공 후 자동 이동: `/interviewer` (면접관 포털)
- **방법**:
  1. **면접관 로그인** 페이지(`/interviewer/login`)에서 **이메일**과 **비밀번호** 입력 후 로그인  
     (관리자 로그인 화면(`/auth/login`) 하단의 「면접관이신가요? 면접관 포털 로그인」 링크로도 이동 가능)
  2. 로그인에 성공하면 자동으로 **면접관 포털**(`/interviewer`)로 이동
- **필수 조건**:
  - 해당 이메일이 **면접관 관리**에 등록되어 있어야 함
  - 그 면접관에게 **비밀번호가 설정**되어 있어야 함  
    → 관리자: **관리자 로그인 → 면접관 관리**에서 각 면접관 행의 **「비밀번호 설정」** 버튼으로 임시 비밀번호를 발급한 뒤, 면접관에게 전달하면 됨. (신규 등록 시에도 임시 비밀번호가 자동 생성되어 모달로 표시됨)
  - 계정이 **활성** 상태여야 함

**백엔드 API**:  
- `POST /api/auth/interviewer/login`  
- Body: `{ "email": "면접관이메일", "password": "비밀번호" }`  
- 성공 시 JWT 발급, 프론트는 이 토큰을 저장한 뒤 `/interviewer` API 호출 시 사용.

---

## 3. 요약 표

| 용도                 | 로그인 여부 | 접속 방법 |
|----------------------|------------|-----------|
| 일정 확인(가능 시간 선택) | 불필요     | 메일의 「일정 선택하기」 링크 → `/confirm/{토큰}` |
| 면접관 포털(일정·평가)   | 필요(이메일+비밀번호) | `/interviewer/login`에서 로그인 → `/interviewer` |

면접관에게 안내할 문구 예시:

- **일정만 선택할 때**: “메일로 받은 ‘일정 선택하기’ 링크를 눌러 들어가서 가능한 날짜·시간만 선택해 주시면 됩니다. 별도 로그인은 필요 없습니다.”
- **면접관 포털(평가 등) 사용 시**: “면접관 포털에 들어가려면 [사이트주소]/interviewer/login 에서 회사에서 안내한 이메일과 비밀번호로 로그인해 주세요.”
