# 메일 미수신 가이드 (Gmail 보낸메일함에는 있는데 수신함에 안 들어올 때)

## 현상
- Gmail **보낸메일함**에는 발송 이력이 있음
- 수신자 메일함(받은편지함/스팸)에는 도달하지 않음

## 원인 요약
Gmail SMTP는 **발신 요청을 수락**하면 곧바로 "보낸메일함"에 넣습니다.  
실제 **수신자 메일 서버로의 전달**은 그 다음 단계에서 이루어지며, 이 단계에서 **수신 측 서버가 거부·스팸 처리**하면 받는 쪽에는 도달하지 않습니다.

---

## 1. 발신자 주소와 Gmail 계정 일치 (가장 중요)

- **SMTP_USER** = Gmail 주소 (예: `yourname@gmail.com`)
- **발신자(From)** = 설정 또는 환경 변수 `EMAIL_FROM` / `SMTP_FROM` / config `smtp_from_email`

**권장:**  
**From을 Gmail과 동일한 주소로 맞추세요.**

- `.env`: `SMTP_USER=yourname@gmail.com` 이고, `EMAIL_FROM`을 넣지 않으면 기본값이 `SMTP_USER`와 같음.
- **설정(관리자)** 에서 "발신 이메일"을 **Gmail 주소와 동일**하게 두는 것이 안전합니다.
- From을 회사 도메인(예: `@ajnet.co.kr`)으로 쓰면, 수신 서버가 **SPF/DKIM** 검사 시 Gmail 서버를 허용하지 않아 **스팸·거부**될 수 있습니다.

**회사 도메인으로 보내고 싶다면:**  
Gmail 웹에서 [설정 → 계정 → "다른 주소로 메일 보내기"]로 해당 주소를 추가·인증한 뒤, 그 주소를 From으로 사용해야 합니다. 그렇지 않으면 수신 측에서 거부되기 쉽습니다.

---

## 2. 수신 측에서 확인할 것

| 확인 항목 | 설명 |
|-----------|------|
| **스팸/정크함** | 수신자 메일함의 스팸·정크함에 들어갔는지 확인 |
| **회사 메일 정책** | 회사 메일 서버가 외부 발신(특히 Gmail)을 차단·스팸 처리하는지 메일 관리자에게 문의 |
| **수신 주소 오타** | 면접관 이메일이 올바른지, 도메인 오타는 없는지 확인 |

---

## 3. 환경 변수·설정 점검

- **SMTP_USER** / **SMTP_PASSWORD**: Gmail 계정 + [앱 비밀번호](https://myaccount.google.com/apppasswords) (2단계 인증 사용 시).
- **EMAIL_FROM** / **SMTP_FROM**: 비워두면 `SMTP_USER`가 사용됨. **Gmail과 동일하게 두는 것을 권장.**
- **설정(관리자)** 의 "발신 이메일" / "발신자 이름": From과 동일한 Gmail 주소 사용 권장.

---

## 4. 그래도 안 들어오면

- 수신자 측 **메일 서버 관리자**에게 문의:  
  - 발신 주소(From), 발송 시각, 제목을 알려주고  
  - 수신 서버 로그에서 **거부(reject)·스팸 처리(bounce)** 여부 확인 요청.
- Gmail이 아닌 **회사 SMTP 서버**를 사용하는 경우:  
  - 해당 서버의 SPF/DKIM 설정이 올바른지, 발신 도메인과 일치하는지 확인.

---

## 요약

- **보낸메일함에만 있고 수신함에 없다** → Gmail은 정상 발송한 것이고, **수신 측에서 거부·스팸 처리**된 경우가 많음.
- **From을 Gmail 주소와 동일하게** 맞추고, 회사 도메인 사용 시에는 Gmail "다른 주소로 보내기" 인증 후 사용하면 도달률이 좋아집니다.
