# 화면별 기능 정의

면접 일정 자동화 시스템의 각 화면별 기능을 정리한 문서입니다.

---

## 1. 인증·공통

### 1.1 로그인 (AuthLoginPage)
- **경로**: `/auth/login`
- **기능**
  - 관리자 이메일/비밀번호 로그인
  - 로그인 성공 시 `/admin/dashboard`로 이동
  - "면접관이신가요? 면접관 포털 로그인" 링크로 면접관 로그인 페이지 이동

### 1.2 인증 콜백 (AuthCallbackPage)
- **경로**: `/auth/callback`
- **기능**
  - URL 쿼리 파라미터의 `token`으로 사용자 정보 조회 (`/auth/me`)
  - 인증 성공 시 토큰·사용자 정보 저장 후 `/admin/dashboard`로 이동
  - 토큰 없음/인증 실패 시 `/auth/login`으로 이동

### 1.3 면접관 로그인 (InterviewerLoginPage)
- **경로**: `/interviewer/login`
- **기능**
  - 면접관 이메일/비밀번호 로그인 (`/auth/interviewer/login`)
  - 로그인 성공 시 면접관 포털(`/interviewer`)로 이동
  - 네트워크/타임아웃 시 안내 메시지 표시

---

## 2. 관리자(Admin) 화면

### 2.1 대시보드 (DashboardPage)
- **경로**: `/admin/dashboard`
- **기능**
  - 면접 현황 통계: 대기 중(PENDING), 진행 중(PARTIAL), 완료(CONFIRMED), 공통 없음(NO_COMMON) 건수
  - "공통 없음" 툴팁 설명
  - 최근 면접 목록 테이블(공고명, 팀명, 상태, 생성일)
  - 검색(공고명), 상태 필터
  - **새 면접 등록** 버튼 → `/admin/interviews/new`
  - 행 클릭 시 해당 면접 상세(`/admin/interviews/:id`)로 이동
  - 새로고침 버튼

### 2.2 면접 목록 (InterviewListPage)
- **경로**: `/admin/interviews`
- **기능**
  - 면접 검색/필터: 공고명, 상태, 일자 범위, 면접관, 면접실
  - 테이블: 공고명, 팀명, 상태, 제안일시, 시작/종료 시간, 생성일
  - 행 클릭 시 면접 상세로 이동
  - **새 면접 등록** 버튼

### 2.3 면접 등록 (InterviewCreatePage)
- **경로**: `/admin/interviews/new`
- **기능**
  - **1. 공고 정보**: 공고명, 팀명 입력
  - **2. 면접 일시**
    - 제안 날짜 (DatePicker)
    - 시작 시간 (TimePicker, 업무시간만 선택 가능, 30분 단위)
    - 종료 시간: 면접자 수 × 30분으로 자동 계산 (읽기 전용)
  - **3. 면접자 및 담당 면접관**
    - 면접자 추가/삭제
    - 면접자별: 이름, 이메일, 전화번호, 지원 직무, 이력서 업로드(PDF/DOC/DOCX/HWP/TXT), 담당 면접관 복수 선택(1~5명, 팀장급 1명 필수)
    - 면접관은 부서별 그룹·검색(이름/부서/직책/이메일) 지원
  - **저장 및 메일 발송**: 면접 생성 후 담당 면접관에게 메일 발송, 이력서 업로드 처리
  - 취소 시 대시보드로 이동

### 2.4 면접 상세 (InterviewDetailPage)
- **경로**: `/admin/interviews/:id`
- **기능**
  - **면접 정보 카드**: 공고명, 팀명, 상태, 면접자 수, 시작/종료 일시
  - **리마인더 발송**: 미응답 면접관 대상 (확정 전만 가능)
  - **면접 삭제**: 확인 후 삭제, 대시보드로 이동
  - **확정 일정 카드**: 확정된 날짜/시간/확정 시각 표시(있을 경우)
  - **면접관 응답 현황 테이블**: 이름, 이메일, 응답 여부, 응답 시간, 미응답 시 "링크 복사"로 포털 링크 복사
  - **면접 평가 현황**: 평가 점수·합격 여부·코멘트 표시(데이터 있을 경우)
  - **AI 분석** 버튼: 면접 데이터 AI 분석 요청 후 목록 갱신
  - **일정 편집 모달**: 제안 일시·확정 일시 수정(날짜, 시작/종료 시간), 업무시간 보정
  - **취소/완료/노쇼 모달**: 사유 입력 후 상태 변경
  - **면접관별 확정 시간 선택 테이블**: 확정된 슬롯(날짜·시간) 표시
  - 목록으로 버튼 → 대시보드

### 2.5 면접관 관리 (InterviewerManagePage)
- **경로**: `/admin/interviewers`
- **기능**
  - 면접관 목록 테이블: 이름, 이메일, 부서, 직책, 팀장 여부, 활성 여부, 작업(수정/삭제/비밀번호 재설정)
  - 검색(이름/부서/이메일)
  - **추가**: 모달에서 이름, 이메일, 부서, 직책, 전화, 팀장 여부, 활성 여부 입력, 비밀번호 자동 생성 후 임시 비밀번호 안내 모달
  - **엑셀 업로드**: 일괄 등록/수정, 결과(신규/업데이트 건수) 안내
  - **수정**: 기존 정보 수정
  - **삭제**: 확인 후 삭제
  - **비밀번호 재설정**: 임시 비밀번호 생성 후 안내

### 2.6 면접실 관리 (RoomManagePage)
- **경로**: `/admin/rooms`
- **기능**
  - 면접실 목록: 이름, 위치, 수용 인원, 시설, 상태, 비고
  - **추가/수정**: 모달에서 이름, 위치, 수용 인원, 시설(다중 선택), 상태(이용가능/점검/예약), 비고
  - **삭제**: 확인 후 삭제

### 2.7 지원자(후보자) 관리 (CandidateManagePage)
- **경로**: `/admin/candidates`, `/admin/candidates/:id/edit`
- **기능**
  - 지원자 목록: 이름, 이메일, 전화, 지원 직무, 상태, 생성일
  - 검색, 상태 필터(지원/서류심사/면접 진행중/제안/불합격/지원 취소)
  - **추가**: 모달에서 이름, 이메일, 전화, 지원 직무, 상태, 이력서 URL, 포트폴리오 URL, 비고
  - **수정**: 행 수정 또는 `/candidates/:id/edit`로 진입 시 편집 모달 자동 오픈
  - 행 클릭 시 지원자 상세(`/admin/candidates/:id`)로 이동

### 2.8 지원자 상세 (CandidateDetailPage)
- **경로**: `/admin/candidates/:id`
- **기능**
  - 지원자 기본 정보: 이름, 이메일, 전화, 지원 직무, 상태, 이력서/포트폴리오 링크, 비고, 생성일
  - **관련 면접 테이블**: 면접 ID, 면접 일자, 단계, 상태, 면접관
  - **타임라인**: 이력 표시
  - 수정 버튼 → 지원자 편집 페이지로 이동, 목록으로 버튼

### 2.9 통계 (StatisticsPage)
- **경로**: `/admin/statistics`
- **기능**
  - 기간·부서 필터
  - **개요 통계**: 기간 내 면접 건수, 완료/취소/노쇼 등 지표
  - **면접실별 이용 통계** 테이블
  - **엑셀 내보내기**: 기간·상세 포함 옵션으로 면접 통계 다운로드

### 2.10 면접관 일정 (InterviewerSchedulePage)
- **경로**: `/admin/interviewer-schedule`
- **기능**
  - 면접관 선택, 보기(일/주/월), 일자 범위 선택
  - 해당 면접관의 면접 일정 테이블/캘린더: 날짜별, 면접별 지원자명, 주/보조 면접관, 시간대, 면접실

### 2.11 캘린더 (CalendarPage)
- **경로**: `/admin/calendar`
- **기능**
  - 보기(월/주/일), 일자 범위, 면접관/면접실 필터
  - 캘린더에 면접 이벤트 표시(상태별 배지 색상)
  - 이벤트 클릭 시 모달: 제목, 시작/종료 일시 등 상세 표시

### 2.12 설정 (SettingsPage)
- **경로**: `/admin/settings`
- **기능**
  - **일정·업무**: 면접 소요 시간, 업무 시작/종료, 점심 시간, 슬롯 간격, 리마인더 시점/횟수, D-1 리마인더 시각, 최소/최대 면접관 수, 팀장 필수 여부, 최소 공지 시간, 데이터 보관 기간, 이메일 재시도 횟수
  - **회사 정보**: 로고 URL, 주소, 주차, 복장 등
  - **이메일**: 발신 이메일/이름, 회신 주소, 인사말, 회사명/부서명, 문의 이메일, 푸터 문구
  - **이메일 설정 상태**: 테스트 메일 설정 여부 확인
  - **저장**: 설정 일괄 PUT 후 캐시 무효화

---

## 3. 면접관 포털·일정 확인

### 3.1 일정 확인 (ConfirmPage, 토큰 기반)
- **경로**: `/confirm/:token`
- **기능**
  - 메일 링크 등으로 접근(로그인 불필요)
  - 면접 정보 표시: 공고명, 팀명, 면접자, 제안 일시, 응답 현황
  - **가능 일정 입력**: 날짜·시작/종료 시간 슬롯 추가/삭제/수정, 업무시간(점심 제외) 내로 보정
  - **제출**: 선택한 슬롯을 서버로 전송, 성공 메시지

### 3.2 면접관 포털 (InterviewerPortalPage)
- **경로**: `/interviewer` (면접관 로그인 필요)
- **기능**
  - **내 면접 목록**: 담당 면접의 공고명, 팀명, 제안 일시, 상태, 지원자 목록
  - **상세**: 면접 정보, 지원자별 일정·이력서 링크
  - **평가**: 지원자별 평가 드로어—기술/소통/적합도/팀워크/종합 점수, 합격 여부, 코멘트, 강점/약점
  - 평가 저장 시 서버 반영 후 목록 갱신

---

## 4. 라우트 요약

| 경로 | 화면 | 비고 |
|------|------|------|
| `/auth/login` | 관리자 로그인 | |
| `/auth/callback` | 인증 콜백 | 쿼리 token |
| `/interviewer/login` | 면접관 로그인 | |
| `/admin/dashboard` | 대시보드 | 인덱스 |
| `/admin/interviews` | 면접 목록 | |
| `/admin/interviews/new` | 면접 등록 | |
| `/admin/interviews/:id` | 면접 상세 | |
| `/admin/interviewers` | 면접관 관리 | |
| `/admin/rooms` | 면접실 관리 | |
| `/admin/candidates` | 지원자 목록 | |
| `/admin/candidates/:id` | 지원자 상세 | |
| `/admin/candidates/:id/edit` | 지원자 편집(모달) | |
| `/admin/statistics` | 통계 | |
| `/admin/interviewer-schedule` | 면접관 일정 | |
| `/admin/calendar` | 캘린더 | |
| `/admin/settings` | 설정 | |
| `/confirm/:token` | 일정 확인(링크) | 비로그인 |
| `/interviewer` | 면접관 포털 | 면접관 로그인 |

---

## 5. 공통·유틸

- **업무시간(businessHours.ts)**
  - 설정(work_start_time, work_end_time, lunch_start_time, lunch_end_time) 기반
  - `getDisabledTime`: TimePicker에서 업무시간(점심 제외)만 선택 가능하도록 비활성 시간/분 반환
  - `clampTimeToBusinessHours`: 선택 시간을 업무시간 구간으로 보정
  - 면접 등록·면접 상세 일정 편집·일정 확인(Confirm) 화면에서 사용

- **인증**
  - 관리자: `ProtectedRoute`, `/auth/login` 미인증 시 로그인으로 이동
  - 면접관: `ProtectedInterviewerRoute`, `/interviewer/login`으로 이동

이 문서는 프론트엔드 페이지 컴포넌트와 라우트 기준으로 작성되었으며, 실제 동작은 백엔드 API와 설정에 따라 달라질 수 있습니다.
